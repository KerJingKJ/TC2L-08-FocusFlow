{% extends 'homepage/base.html' %}

{% block title %}
Goals
{% endblock %}

{% block content %}
{% load static %}
<head>
    <link href="{% static 'goals/goals.css' %}" type="text/css" rel="stylesheet" />
    <title>Goals</title>
</head>

<body>
<div class="forms">
    <h1>Set your goals!</h1>
    <form method="POST">
        {% csrf_token %}
    <div class="title-container"><span><strong>Title:</strong>  {{ form.title }}</span></div>
    
    <div class="description">
        <p><strong>Description (if any): </strong></p>
        {{ form.description }}
    </div>
        <span><button type="submit" class="save">Save</button></span>

    
    </form>
</div>
    <h2>Your Goals</h2>
    <div class="seperate">
        {% for goal in goals %}
        <div class="box">
            <span class="display_title"><strong>{{ goal.title }}</strong></span>
            <span class="display_description">{{ goal.description }}</span>
           <span>
            {% if not goal.completed %}    
                <div class="notdone"><strong>Progress: {{goal.progress}}</strong></div>
                {% else %}
                <div class="done"><strong>Progress: {{goal.progress}}</strong></div>
            </span>
            {% endif %}
            <div class="grouping">
            <a href="{% url 'edit' goal.id %}" class="edit">Edit</a>
            <a href="{% url 'delete' goal.id %}" class="delete">Delete</a>
            {% if not goal.completed %}
            <form action="{% url 'complete' goal.id 'complete'%}" method="POST">
                {% csrf_token %}
                <button type="submit" class="complete">Mark as Done</button>
            </form>
            {% else %}
            <form action="{% url 'complete' goal.id 'notcomplete'%}" method="POST">
                {% csrf_token %}
                <button type="submit" class="complete">Undone</button>
            </form>
            {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</body>

{% endblock %}

